# 23、Java 死锁如何避免

造成死锁的几个原因



(1) 一个资源每次只能被一个线程使用



(2) 一个线程在阻塞等待某个资源时，不释放已占有资源



(3) 一个线程已经获得的资源，在未使用完之前，不能被强行剥夺



(4) 若干线程形成头尾相接的循环等待资源关系



这是造成死锁必须要达到的4 个条件，如果要避免死锁，只需要不满足其中某一个条

件即可。而其中前3 个条件是作为锁要符合的条件，所以要避免死锁就需要打破第4

个条件，不出现循环等待锁的关系。**在开发过程中**

1. 要注意加锁顺序，保证每个线程按同样的顺序进行加锁



2. 要注意加锁时限，可以针对锁设置一个超时时间



要注意死锁检查，这是一种预防机制，确保在第一时间发现死锁并进行解决



> 更新: 2024-04-30 18:42:32  
> [原文](https://www.yuque.com/zhichangzhishiku/edrbqg/gbekigznbbeznoh9>